<!--
Soliguide: Useful information for those who need it

SPDX-FileCopyrightText: Â© 2024 Solinum

SPDX-License-Identifier: AGPL-3.0-only

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<div class="modal-body p-4" *ngIf="me">
  <h2 class="separator-secondary text-center mt-4">
    {{ "EDIT_ROLES_MEMBERS_ORGA" | translate }}
  </h2>

  <div class="py-3">
    <p [innerHTML]="'READER_DEFINITION' | translate | safeHtml"></p>
    <p [innerHTML]="'EDITOR_DEFINITION' | translate | safeHtml"></p>
    <p [innerHTML]="'OWNER_DEFINITION' | translate | safeHtml"></p>
  </div>

  <p *ngIf="loading" class="text-center fs-4">
    <fa-icon icon="circle-notch" aria-hidden="true" [spin]="true"></fa-icon>
    {{ "PLEASE_WAIT" | translate }}
  </p>

  <ng-container *ngIf="!loading && usersRights?.length > 0">
    <h3>{{ "CREATED_ACCOUNTS" | translate }}</h3>
    <app-list-roles
      [invitation]="false"
      [me]="me"
      [usersRights]="usersRights"
      [organization]="organisation"
      (getRolesForOrga)="getRolesForOrga()"
    ></app-list-roles>
    <hr />
  </ng-container>
  <ng-container *ngIf="!loading && invitationsRights?.length > 0">
    <h3>{{ "INVITATIONS" | translate }}</h3>
    <app-list-roles
      [invitation]="true"
      [me]="me"
      [usersRights]="invitationsRights"
      [organization]="organisation"
      (getRolesForOrga)="getRolesForOrga()"
    ></app-list-roles>
  </ng-container>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-outline-primary" (click)="cancel()">
    {{ "CLOSE" | translate }}
  </button>
</div>
